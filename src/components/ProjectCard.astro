---
import SkillBadge from "./SkillBadge.astro";

interface Props {
  project: {
    data: {
      title: string;
      description: string;
      techStack: string[];
      liveUrl?: string;
      sourceUrl?: string;
    };
  };
}

const { project } = Astro.props;
const { title, description, techStack, liveUrl, sourceUrl } = project.data;
---

<div
  class="group relative border border-surface-200 dark:border-surface-800 rounded-2xl p-6 hover:border-accent-500/30 dark:hover:border-accent-400/30 hover:shadow-lg hover:shadow-accent-500/5 transition-all duration-300"
>
  <div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-accent-500/[0.03] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>

  <div class="relative">
    <div class="flex items-start justify-between gap-4">
      <h3
        class="text-lg font-semibold text-surface-900 dark:text-surface-100 group-hover:text-accent-600 dark:group-hover:text-accent-400 transition-colors"
      >
        {title}
      </h3>
      {liveUrl && (
        <a
          href={liveUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="shrink-0 mt-1 text-surface-400 hover:text-accent-600 dark:hover:text-accent-400 transition-colors"
          aria-label={`Visit ${title}`}
        >
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" />
          </svg>
        </a>
      )}
    </div>

    <p class="mt-3 text-sm text-surface-600 dark:text-surface-400 leading-relaxed">
      {description}
    </p>

    <div class="mt-4 flex flex-wrap gap-1.5">
      {techStack.map((tech) => <SkillBadge name={tech} />)}
    </div>

    <div class="mt-5 flex gap-4">
      {
        liveUrl && (
          <a
            href={liveUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="text-sm font-medium text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-500 transition-colors inline-flex items-center gap-1"
          >
            Live Demo
            <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75" />
            </svg>
          </a>
        )
      }
      {
        sourceUrl && (
          <a
            href={sourceUrl}
            target="_blank"
            rel="noopener noreferrer"
            class="text-sm font-medium text-surface-500 dark:text-surface-400 hover:text-surface-700 dark:hover:text-surface-200 transition-colors"
          >
            Source
          </a>
        )
      }
    </div>
  </div>
</div>
